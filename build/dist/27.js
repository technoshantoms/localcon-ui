(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{339:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(8),l=n(13),c=n(52),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props.witness.get("witness_account");return r.a.createElement(c.a,{account:e})}}]),t}(r.a.Component);m.propTypes={witness:o.a.ChainObject.isRequired},m=Object(l.a)(m),t.a=m},5288:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(85),l=n(46),c=n.n(l),i=n(7),s=n(169),u=n(1),m=n.n(u),p=n(83),b=n(187),f=n(339),d=n(8),h=n(13),g=n(41),v=n(127),k=n.n(v),E=n(2),y=n.n(E),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=function(e){function t(){return x(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_(t,[{key:"shouldComponentUpdate",value:function(e){if(e.blocks.size<20)return!1;var t=this.refs.trx_chart?this.refs.trx_chart.chart:null;if(t&&e.blocks!==this.props.blocks){var n=this._getData(e),a=n.trxData,r=n.colors,o=t.series[0],l=o.xData[o.xData.length-1];if(o.xData.length)return a.forEach((function(e){e[0]>l&&o.addPoint(e,!1,o.xData.length>=30)})),t.options.plotOptions.column.colors=r,t.redraw(),!1}return e.blocks!==this.props.blocks||e.head_block!==this.props.head_block}},{key:"_getData",value:function(e){var t=e.blocks,n=e.head_block,a=[],r=0;return{colors:(a=t.filter((function(e){return e.id>=n-30})).sort((function(e,t){return e.id-t.id})).takeLast(30).map((function(e){return r=Math.max(e.transactions.length,r),[e.id,e.transactions.length]})).toArray()).map((function(e){return e[1]<=5?"#50D2C2":e[1]<=10?"#A0D3E8":e[1]<=20?"#FCAB53":"#deb869"})),trxData:a,max:r}}},{key:"render",value:function(){var e=this._getData(this.props),t=e.trxData,n=e.colors,a=e.max,o=y.a.translate("explorer.blocks.transactions"),l={chart:{type:"column",backgroundColor:"rgba(255, 0, 0, 0)",spacing:[0,0,5,0],height:100},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},tooltip:{shared:!1,formatter:function(){return o+": "+this.y}},series:[{name:"Transactions",data:t,color:"#50D2C2"}],xAxis:{labels:{enabled:!1},title:{text:null}},yAxis:{min:0,max:Math.max(1.5,a+.5),title:{text:null},labels:{enabled:!1},gridLineWidth:0,currentPriceIndicator:{enabled:!1}},plotOptions:{column:{animation:!0,minPointLength:5,colorByPoint:!0,colors:n,borderWidth:0}}};return t.length?r.a.createElement(k.a,{ref:"trx_chart",config:l}):null}}]),t}(r.a.Component),N=n(374),j=n(324);var T=function(e,t,n){var a=null==e?0:e.length;return a?(t=a-(t=n||void 0===t?1:Object(j.a)(t)),Object(N.a)(e,t<0?0:t,a)):[]},P=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var B=function(e){function t(){return D(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),P(t,[{key:"shouldComponentUpdate",value:function(e){if(e.blockTimes.length<19)return!1;if(0===this.props.blockTimes.length)return!0;var t=this.refs.chart?this.refs.chart.chart:null;if(t){var n=this._getData(e),a=n.blockTimes,r=n.colors,o=t.series[0],l=o.xData[o.xData.length-1];if(o.xData.length)return a.forEach((function(e){e[0]>l&&o.addPoint(e,!1,o.xData.length>=30)})),t.options.plotOptions.column.colors=r,t.redraw(),!1}return e.blockTimes[e.blockTimes.length-1][0]!==this.props.blockTimes[this.props.blockTimes.length-1][0]||e.blockTimes.length!==this.props.blockTimes.length}},{key:"_getData",value:function(){var e=this.props,t=e.blockTimes,n=e.head_block;t.filter((function(e){return e[0]>=n-30})),t&&t.length&&(t=T(t,30));var a=t.map((function(e){return e[1]<=5?"#50D2C2":e[1]<=10?"#A0D3E8":e[1]<=20?"#FCAB53":"#deb869"}));return{blockTimes:t,colors:a}}},{key:"render",value:function(){var e=this._getData(this.props),t=e.blockTimes,n=e.colors,a=y.a.translate("explorer.blocks.block_time"),o={chart:{type:"column",backgroundColor:"rgba(255, 0, 0, 0)",spacing:[0,0,5,0],height:100},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},tooltip:{shared:!1,formatter:function(){return a+": "+this.y+"s"}},series:[{name:"Block time",data:t,color:"#50D2C2"}],xAxis:{labels:{enabled:!1},title:{text:null}},yAxis:{min:0,title:{text:null},labels:{enabled:!1},gridLineWidth:0,currentPriceIndicator:{enabled:!1}},plotOptions:{column:{animation:!0,minPointLength:3,colorByPoint:!0,colors:n,borderWidth:0}}};return t.length?r.a.createElement(k.a,{ref:"chart",config:o}):null}}]),t}(r.a.Component),H=n(12),z=n.n(H),A=n(37),S=n(5),L=n(6),W=n.n(L),R=n(118),U=n(14),I=n(60),G=n.n(I),q=n(115),M=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(5382);var Q=function(e){function t(){return F(this,t),J(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return K(t,e),M(t,[{key:"shouldComponentUpdate",value:function(e){return e.blockTime!==this.props.blockTime}},{key:"render",value:function(){var e=this.props.blockTime,t=(new Date).getTime()-new Date(e).getTime(),n=z()("txtlabel",{success:t<=6e3},{info:t>6e3&&t<=15e3},{warning:t>15e3&&t<=25e3},{error:t>25e3});return e?r.a.createElement("h3",{className:n},r.a.createElement(R.a,{time:e})):null}}]),t}(r.a.Component),V=function(e){function t(e){F(this,t);var n=J(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={animateEnter:!1,operationsHeight:null,blocksHeight:null},n._updateHeight=n._updateHeight.bind(n),n}return K(t,e),M(t,[{key:"_getBlock",value:function(e,t){e&&(e=parseInt(e,10),s.a.getLatest(e,t))}},{key:"componentWillMount",value:function(){window.addEventListener("resize",this._updateHeight,{capture:!1,passive:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._updateHeight)}},{key:"componentWillReceiveProps",value:function(e){if(0===e.latestBlocks.size)return this._getInitialBlocks();this.state.animateEnter||this.setState({animateEnter:!0});var t=e.dynGlobalObject.get("head_block_number");return e.latestBlocks.size>=25&&e.dynGlobalObject.get("head_block_number")!==e.latestBlocks.get(0).id?this._getBlock(t,t):void 0}},{key:"componentDidMount",value:function(){this._getInitialBlocks();var e=this.refs.operations;G.a.initialize(e);var t=this.refs.blocks;G.a.initialize(t),this._updateHeight()}},{key:"shouldComponentUpdate",value:function(e,t){return!W.a.is(e.latestBlocks,this.props.latestBlocks)||!S.a.are_equal_shallow(t,this.state)}},{key:"componentDidUpdate",value:function(){this._updateHeight()}},{key:"_getInitialBlocks",value:function(){var e=parseInt(this.props.dynGlobalObject.get("head_block_number"),10);if(e)for(var t=24;t>=0;t--){var n=!1;if(this.props.latestBlocks.size>0)for(var a=0;a<this.props.latestBlocks.size;a++)if(this.props.latestBlocks.get(a).id===e-t){n=!0;break}n||this._getBlock(e-t,e)}}},{key:"_updateHeight",value:function(){var e=this.refs.outerWrapper.offsetHeight,t=this.refs.operationsText.offsetHeight,n=this.refs.blocksText.offsetHeight;this.setState({operationsHeight:e-t,blocksHeight:e-n},this.psUpdate)}},{key:"psUpdate",value:function(){var e=this.refs.operations;G.a.update(e);var t=this.refs.blocks;G.a.update(t)}},{key:"render",value:function(){var e=this.props,t=e.latestBlocks,n=e.latestTransactions,a=e.globalObject,o=e.dynGlobalObject,l=e.coreAsset,c=this.state,s=c.blocksHeight,u=c.operationsHeight,d=this.props.getDynamicObject(l.get("dynamic_asset_data_id")),h=null,g=null,v=null,k=0,E=t.size,y=0,_=[],x=0;if(t&&t.size>=25){var w=void 0,N=void 0,j=void 0;t.filter((function(e,t){return e.id===o.get("head_block_number")-t})).sort((function(e,t){return e.id-t.id})).forEach((function(e,t){k+=e.transactions.length,t>0?(_.push([e.id,(e.timestamp-w)/1e3]),N=e.timestamp):j=e.timestamp,w=e.timestamp,A.a.rebuild()})),h=t.sort((function(e,t){return t.id-e.id})).take(25).map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(i.b,{to:"/block/"+e.id},"#",S.a.format_number(e.id,0))),r.a.createElement("td",null,r.a.createElement(p.a,{value:e.timestamp,format:"time"})),r.a.createElement("td",null,r.a.createElement(f.a,{witness:e.witness})),r.a.createElement("td",null,S.a.format_number(e.transactions.length,0)))})).toArray();var T=0;g=n.sort((function(e,t){return t.block_num-e.block_num})).take(25).map((function(e){var t=0;return e.operations.map((function(n){return T>24?null:r.a.createElement(b.a,{key:T++,op:n,result:e.operation_results[t++],block:e.block_num,hideFee:!0,hideOpLabel:!1,current:"1.2.0",hideDate:!0,hidePending:!0})})).filter((function(e){return!!e}))})).toArray(),v=t.first().timestamp,x=_.reduce((function(e,t,n,a){return e+t[1]/a.length}),0),y=k/((N-j)/1e3)}return r.a.createElement("div",{ref:"outerWrapper",className:"grid-block vertical"},r.a.createElement("div",{className:"align-center grid-block shrink small-horizontal blocks-row"},r.a.createElement("div",{className:"grid-block text-center small-6 medium-3"},r.a.createElement("div",{className:"grid-content no-overflow"},r.a.createElement("span",{className:"txtlabel"},r.a.createElement(m.a,{component:"span",content:"explorer.blocks.current_block"})),r.a.createElement("h2",null,"#",S.a.format_number(o.get("head_block_number"),0)))),r.a.createElement("div",{className:"grid-block text-center small-6 medium-3"},r.a.createElement("div",{className:"grid-content no-overflow"},r.a.createElement("span",{className:"txtlabel"},r.a.createElement(m.a,{component:"span",content:"explorer.blocks.last_block"})),r.a.createElement(Q,{blockTime:v}))),r.a.createElement("div",{className:"grid-block text-center small-6 medium-3"},r.a.createElement("div",{className:"grid-content no-overflow"},r.a.createElement("span",{className:"txtlabel"},r.a.createElement(m.a,{component:"span",content:"explorer.blocks.trx_per_sec"})),r.a.createElement("h2",null,S.a.format_number(y,2)))),r.a.createElement("div",{className:"grid-block text-center small-6 medium-3"},r.a.createElement("div",{className:"grid-content no-overflow"},r.a.createElement("span",{className:"txtlabel"},r.a.createElement(m.a,{component:"span",content:"explorer.blocks.avg_conf_time"})),r.a.createElement("h2",null,S.a.format_number(x/2,2),"s")))),r.a.createElement("div",{className:"align-center grid-block shrink small-horizontal  blocks-row"},r.a.createElement("div",{className:"grid-block text-center small-6 medium-3"},r.a.createElement("div",{className:"grid-content no-overflow clear-fix"},r.a.createElement("span",{className:"txtlabel"},r.a.createElement(m.a,{component:"span",content:"explorer.blocks.active_witnesses"})),r.a.createElement("h2",{className:"txtlabel success"},a.get("active_witnesses").size))),r.a.createElement("div",{className:"grid-block text-center small-6 medium-3"},r.a.createElement("div",{className:"grid-content no-overflow clear-fix"},r.a.createElement("span",{className:"txtlabel"},r.a.createElement(m.a,{component:"span",content:"explorer.blocks.active_committee_members"})),r.a.createElement("h2",{className:"txtlabel success"},a.get("active_committee_members").size))),r.a.createElement("div",{className:"grid-block text-center small-6 medium-3"},r.a.createElement("div",{className:"grid-content no-overflow clear-fix"},r.a.createElement("span",{className:"txtlabel"},r.a.createElement(m.a,{component:"span",content:"explorer.blocks.trx_per_block"})),r.a.createElement("h2",null,S.a.format_number(k/E||0,2)))),r.a.createElement("div",{className:"grid-block text-center small-6 medium-3"},r.a.createElement("div",{className:"grid-content no-overflow clear-fix"},r.a.createElement("span",{className:"txtlabel"},r.a.createElement(m.a,{component:"span",content:"explorer.blocks.recently_missed_blocks"})),r.a.createElement("h2",{className:"txtlabel warning",style:{fontWeight:"100"}},o.get("recently_missed_count"))))),r.a.createElement("div",{className:"align-center grid-block shrink small-vertical medium-horizontal blocks-row"},r.a.createElement("div",{className:"grid-block text-center small-12 medium-3"},r.a.createElement("div",{className:"grid-content no-overflow clear-fix"},r.a.createElement("span",{className:"txtlabel"},r.a.createElement(m.a,{component:"span",content:"explorer.asset.summary.current_supply"})),r.a.createElement("h3",{className:"txtlabel"},d?r.a.createElement(U.a,{amount:d.get("current_supply"),asset:l.get("id"),decimalOffset:5}):null))),r.a.createElement("div",{className:"grid-block text-center small-12 medium-3"},r.a.createElement("div",{className:"grid-content no-overflow"},r.a.createElement("div",{className:"txtlabel"},r.a.createElement(m.a,{component:"span",content:"explorer.blocks.block_times"})),r.a.createElement(B,{blockTimes:_,head_block_number:o.get("head_block_number")}))),r.a.createElement("div",{className:"grid-block text-center small-12 medium-3"},r.a.createElement("div",{className:"grid-content no-overflow"},r.a.createElement("div",{className:"txtlabel"},r.a.createElement(m.a,{component:"span",content:"explorer.blocks.trx_per_block"})),r.a.createElement(O,{blocks:t,head_block:o.get("head_block_number")}))),r.a.createElement("div",{className:"grid-block text-center small-12 medium-3"},r.a.createElement("div",{className:"grid-content no-overflow clear-fix"},r.a.createElement("span",{className:"txtlabel"},r.a.createElement(m.a,{component:"span",content:"explorer.asset.summary.stealth_supply"})),r.a.createElement("h3",{className:"txtlabel"},d?r.a.createElement(U.a,{amount:d.get("confidential_supply"),asset:l.get("id"),decimalOffset:5}):null)))),r.a.createElement("div",{ref:"transactionsBlock",className:"grid-block no-overflow"},r.a.createElement("div",{className:"grid-block small-12 medium-6 vertical no-overflow",style:{paddingBottom:0}},r.a.createElement("div",{className:"grid-block vertical no-overflow generic-bordered-box"},r.a.createElement("div",{ref:"operationsText"},r.a.createElement("div",{className:"block-content-header"},r.a.createElement(m.a,{content:"account.recent"})),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(m.a,{content:"account.votes.info"})))))),r.a.createElement("div",{className:"grid-block",style:{maxHeight:u||"400px",overflow:"hidden"},ref:"operations"},r.a.createElement("table",{className:"block-info-table info-table-selector"},r.a.createElement("tbody",{className:"info-table-selector__tbody"},g))))),r.a.createElement("div",{className:"grid-block medium-6 show-for-medium vertical no-overflow",style:{paddingBottom:0,paddingLeft:5}},r.a.createElement("div",{className:"grid-block vertical no-overflow generic-bordered-box"},r.a.createElement("div",{ref:"blocksText"},r.a.createElement("div",{className:"block-content-header"},r.a.createElement(m.a,{component:"span",content:"explorer.blocks.recent"}))),r.a.createElement("div",{className:"grid-block vertical",style:{maxHeight:s||"438px",overflow:"hidden"},ref:"blocks"},r.a.createElement("table",{className:"block-info-recentblocks"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(m.a,{component:"span",content:"explorer.block.id"})),r.a.createElement("th",null,r.a.createElement(m.a,{component:"span",content:"explorer.block.date"})),r.a.createElement("th",null,r.a.createElement(m.a,{component:"span",content:"explorer.block.witness"})),r.a.createElement("th",{className:"text-right"},r.a.createElement(m.a,{component:"span",content:"explorer.block.count"})))),r.a.createElement(q.a,{component:"tbody",transitionName:"newrow"},h)))))))}}]),t}(r.a.Component);V.propTypes={globalObject:d.a.ChainObject.isRequired,dynGlobalObject:d.a.ChainObject.isRequired},V.defaultProps={globalObject:"2.0.0",dynGlobalObject:"2.1.0",latestBlocks:{},assets:{},accounts:{},height:1},V=Object(h.a)(V,{show_loader:!0});var X=V=Object(g.a)(V,{propNames:["coreAsset"],withDynamic:!0}),Y=n(107),Z=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var te=function(e){function t(){return $(this,t),ee(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Z(t,[{key:"render",value:function(){var e=r.a.createElement(c.a,{stores:[o.a],inject:{latestBlocks:function(){return o.a.getState().latestBlocks},latestTransactions:function(){return o.a.getState().latestTransactions}}},r.a.createElement(X,null));return r.a.createElement("div",{className:"content"},r.a.createElement(Y.a,{defaultActiveTab:"explorer.blocks.title",defaultContent:e}))}}]),t}(r.a.Component);t.default=te}}]);